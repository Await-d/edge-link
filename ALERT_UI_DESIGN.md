# 告警管理UI界面设计

本文档描述告警管理UI的视觉布局和交互设计,供设计师和开发者参考。

## 1. 告警列表主页面

### 布局结构
```
┌─────────────────────────────────────────────────────────────────────────┐
│                         Edge-Link 管理平台                              │
├─────────────────────────────────────────────────────────────────────────┤
│  侧边栏                       │  主内容区                               │
│  ├ 📊 Dashboard              │                                          │
│  ├ 💻 设备管理               │  ┌────────────────────────────────────┐ │
│  ├ 🔔 告警中心 (活跃)        │  │ 告警中心 [5]      [音频通知 🔔 ON] │ │
│  ├ 🌐 网络拓扑               │  └────────────────────────────────────┘ │
│  ├ 🔑 密钥管理               │                                          │
│  └ 📝 审计日志               │  ┌──── 统计仪表盘 ────────────────────┐ │
│                              │  │ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐   │ │
│                              │  │ │ ⚠️  │ │ ⏱️  │ │ ✓   │ │     │   │ │
│                              │  │ │活跃 │ │已确认│ │已解决│ │总数 │   │ │
│                              │  │ │ 12  │ │  5  │ │ 23  │ │ 40  │   │ │
│                              │  │ └─────┘ └─────┘ └─────┘ └─────┘   │ │
│                              │  │                                    │ │
│                              │  │ 🔥 按严重程度分类(仅活跃告警)      │ │
│                              │  │ 🔴 Critical: 3  🟠 High: 4         │ │
│                              │  │ 🟡 Medium: 3    ⚪ Low: 2          │ │
│                              │  └────────────────────────────────────┘ │
│                              │                                          │
│                              │  ┌──── 筛选和搜索 ──────────────────┐   │
│                              │  │ [严重程度 ▼] [状态 ▼] [类型 ▼]  │   │
│                              │  │ [🔍 搜索告警标题或消息...]  [🔄] │   │
│                              │  └────────────────────────────────────┘ │
│                              │                                          │
│                              │  ┌──── 告警表格 ─────────────────────┐  │
│                              │  │ 严重程度 类型 标题 消息 状态 时间 操作│
│                              │  ├────────────────────────────────────┤ │
│                              │  │ 🔴CRIT  DEVICE 设备离... 3分钟前   │ │
│                              │  │                    🔴活跃 [详情][确认]│
│                              │  │ 🟠HIGH  LATENCY 高延迟... 1小时前  │ │
│                              │  │                    🟠已确认 [详情][解决]│
│                              │  │ 🟡MEDIUM KEY   密钥即... 2天前     │ │
│                              │  │                    🟢已解决 [详情]  │ │
│                              │  ├────────────────────────────────────┤ │
│                              │  │         [◀ 1 2 3 4 5 ▶]           │ │
│                              │  │         共 40 条                   │ │
│                              │  └────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────┘
```

### 视觉特性

#### 页面头部
- **标题**: "告警中心"，H2大小，黑色，左对齐
- **徽章**: 圆形红色徽章显示活跃告警数量(如[5])
- **音频开关**: 右上角，Switch组件，开启显示实心铃铛，关闭显示空心铃铛

#### 统计卡片区域
**布局**: 响应式网格，桌面4列，平板2列，移动1列

**卡片1 - 活跃告警**
- 图标: ⚠️ (红色 #ff4d4f)
- 标题: "活跃告警"
- 数值: 大字体，数字>0时红色
- 背景: 白色卡片，圆角8px，阴影

**卡片2 - 已确认**
- 图标: ⏱️ (橙色 #faad14)
- 标题: "已确认"
- 数值: 大字体，数字>0时橙色
- 背景: 白色卡片

**卡片3 - 已解决**
- 图标: ✓ (绿色 #52c41a)
- 标题: "已解决"
- 数值: 大字体，绿色
- 背景: 白色卡片

**卡片4 - 总告警数**
- 标题: "总告警数"
- 数值: 大字体，深灰色
- 背景: 白色卡片

**严重程度统计卡片** (跨4列)
- 标题: "🔥 按严重程度分类(仅活跃告警)"
- 内部4列布局:
  - 🔴 Critical: 数字(红色)
  - 🟠 High: 数字(橙色)
  - 🟡 Medium: 数字(金色)
  - ⚪ Low: 数字(灰色)

#### 筛选栏
- **严重程度下拉框**: 宽度150px，占位符"严重程度"
- **状态下拉框**: 宽度150px，占位符"状态"
- **类型下拉框**: 宽度180px，占位符"类型"
- **搜索框**: 宽度300px，带放大镜图标
- **刷新按钮**: 圆形图标按钮，旋转箭头
- 间距: 16px
- 允许换行(移动端)

#### 告警表格
**表头列**:
1. 严重程度 (100px) - Tag组件，颜色编码
2. 类型 (150px) - 大写文本
3. 标题 - 省略号截断
4. 消息 - 省略号截断
5. 状态 (100px) - Tag组件，颜色编码
6. 创建时间 (180px) - 相对时间，悬停显示完整时间
7. 操作 (200px) - 按钮组，固定右侧

**行样式**:
- 默认: 白色背景，鼠标悬停浅灰色
- Critical活跃告警: 浅粉色背景(#fff1f0)，悬停深粉色(#ffccc7)
- 边框: 细灰线分隔
- 行高: 60px

**分页器**:
- 位置: 表格底部，右对齐
- 显示: "共 40 条"
- 页码: 1 2 3 4 5
- 页大小选择器: 10/20/50/100
- 快速跳转输入框

## 2. 告警详情弹窗

### 布局结构
```
┌──────────────────────────────────────────────────┐
│  告警详情                  🔴 CRITICAL      [✕]  │
├──────────────────────────────────────────────────┤
│                                                  │
│  ┌────────────────────────────────────────────┐ │
│  │ ⚠️ 设备D001离线                            │ │
│  │                                            │ │
│  │ 设备在5分钟内未响应心跳检测，              │ │
│  │ 可能存在网络故障或设备掉电。              │ │
│  └────────────────────────────────────────────┘ │
│                                                  │
│  ┌──── 基本信息 ───────────────────────────┐    │
│  │ 告警ID        uuid-abc123...    [📋复制]│    │
│  │ ────────────────────────────────────────│    │
│  │ 告警类型      DEVICE OFFLINE            │    │
│  │ 状态          🔴 活跃                   │    │
│  │ ────────────────────────────────────────│    │
│  │ 严重程度      🔴 CRITICAL               │    │
│  │ 设备ID        device-uuid... [📋复制]   │    │
│  │ ────────────────────────────────────────│    │
│  │ 创建时间      2025-10-20 15:30:00       │    │
│  │               (3分钟前)                 │    │
│  │ 确认时间      -                         │    │
│  │ 确认人        -                         │    │
│  └──────────────────────────────────────────┘    │
│                                                  │
│  元数据                                          │
│  ┌──────────────────────────────────────────┐   │
│  │ device_name                              │   │
│  │   "边缘设备-001"                         │   │
│  │                                          │   │
│  │ last_seen                                │   │
│  │   "2025-10-20T15:25:00Z"                 │   │
│  │                                          │   │
│  │ location                                 │   │
│  │   "数据中心A-机柜03"                     │   │
│  └──────────────────────────────────────────┘   │
│                                                  │
└──────────────────────────────────────────────────┘
```

### 视觉特性

#### 弹窗头部
- **宽度**: 800px
- **标题**: "告警详情" + 严重程度Tag
- **关闭按钮**: 右上角 ✕

#### 告警消息区域
- **样式**: Ant Design Alert组件
- **类型**: Critical/High → error (红色), Medium → warning (黄色), Low → info (蓝色)
- **图标**: 自动显示
- **标题**: 告警标题，粗体
- **描述**: 告警消息，常规字体

#### 基本信息表格
- **样式**: Descriptions组件，bordered
- **列数**: 2列
- **项目**:
  - 告警ID: 带复制按钮
  - 告警类型: Tag组件
  - 状态: 颜色Tag
  - 严重程度: 颜色Tag
  - 设备ID: 带复制按钮(如有)
  - 创建时间: 完整时间 + 相对时间(灰色)
  - 确认时间: (如有)
  - 确认人: (如有)
  - 解决时间: (如有)

#### 元数据区域
- **标题**: "元数据" H5大小
- **显示条件**: 仅当metadata非空时显示
- **样式**: Descriptions组件，bordered，单列
- **内容**: 键值对
  - 键: 粗体
  - 值: 代码风格(code标签)，支持JSON格式化

## 3. 移动端适配

### 小屏幕布局 (<768px)

```
┌────────────────────────┐
│ ☰  告警中心 [5]  [🔔] │
├────────────────────────┤
│ ┌────────────────────┐ │
│ │ ⚠️ 活跃告警        │ │
│ │      12           │ │
│ └────────────────────┘ │
│ ┌────────────────────┐ │
│ │ ⏱️ 已确认          │ │
│ │       5           │ │
│ └────────────────────┘ │
│ ┌────────────────────┐ │
│ │ ✓ 已解决           │ │
│ │      23           │ │
│ └────────────────────┘ │
│ ┌────────────────────┐ │
│ │ 总告警数           │ │
│ │      40           │ │
│ └────────────────────┘ │
├────────────────────────┤
│ [严重程度 ▼]          │
│ [状态 ▼]              │
│ [类型 ▼]              │
│ [🔍 搜索...       ]   │
│ [🔄 刷新]             │
├────────────────────────┤
│ ┌──── 告警卡片 ────┐  │
│ │ 🔴 CRITICAL       │  │
│ │ 设备D001离线      │  │
│ │ 3分钟前 🔴活跃    │  │
│ │ [详情] [确认]     │  │
│ └──────────────────┘  │
│ ┌──── 告警卡片 ────┐  │
│ │ 🟠 HIGH           │  │
│ │ 高延迟告警        │  │
│ │ 1小时前 🟠已确认  │  │
│ │ [详情] [解决]     │  │
│ └──────────────────┘  │
├────────────────────────┤
│     [◀ 1 2 3 ▶]      │
└────────────────────────┘
```

### 移动端特性
- 汉堡菜单替代侧边栏
- 统计卡片单列堆叠
- 筛选器完全换行
- 表格切换为卡片视图
- 操作按钮变为块级

## 4. 交互动画

### 加载状态
- **骨架屏**: 统计卡片和表格使用Skeleton组件
- **持续时间**: 淡入300ms

### 按钮交互
- **悬停**: 颜色加深10%，过渡150ms
- **点击**: 缩放0.95，过渡100ms
- **加载**: 旋转spinner图标

### 弹窗动画
- **打开**: 从中心放大，淡入300ms
- **关闭**: 缩小到中心，淡出200ms

### 表格行
- **悬停**: 背景色过渡200ms
- **选中**: 边框高亮，过渡150ms

### 音频开关
- **切换**: 滑动动画200ms
- **首次启用**: 铃铛摇晃动画500ms

## 5. 颜色规范

### 主题色
```css
--primary-color: #1890ff;        /* Ant Design蓝 */
--success-color: #52c41a;        /* 成功绿 */
--warning-color: #faad14;        /* 警告黄 */
--error-color: #ff4d4f;          /* 错误红 */
--info-color: #1890ff;           /* 信息蓝 */
```

### 告警颜色
```css
--critical-color: #f5222d;       /* Critical红 */
--high-color: #fa8c16;           /* High橙 */
--medium-color: #faad14;         /* Medium金 */
--low-color: #1890ff;            /* Low蓝 */
```

### 状态颜色
```css
--active-color: #ff4d4f;         /* 活跃红 */
--acknowledged-color: #fa8c16;   /* 已确认橙 */
--resolved-color: #52c41a;       /* 已解决绿 */
```

### 背景色
```css
--bg-primary: #ffffff;           /* 主背景 */
--bg-secondary: #fafafa;         /* 次背景 */
--bg-critical-light: #fff1f0;    /* Critical浅背景 */
--bg-critical-hover: #ffccc7;    /* Critical悬停 */
```

### 文字色
```css
--text-primary: rgba(0,0,0,0.85);    /* 主文字 */
--text-secondary: rgba(0,0,0,0.65);  /* 次文字 */
--text-disabled: rgba(0,0,0,0.25);   /* 禁用文字 */
```

## 6. 图标使用

### 页面图标
- 告警中心: 🔔 BellOutlined / BellFilled
- 活跃告警: ⚠️ ExclamationCircleOutlined
- 已确认: ⏱️ ClockCircleOutlined
- 已解决: ✓ CheckCircleOutlined
- 严重程度: 🔥 FireOutlined

### 操作图标
- 详情: 👁️ EyeOutlined
- 确认: ✓ CheckOutlined
- 解决: ✕ CloseCircleOutlined
- 刷新: 🔄 ReloadOutlined
- 搜索: 🔍 SearchOutlined

### 状态图标
- 成功: ✓ CheckCircleFilled
- 警告: ⚠️ WarningFilled
- 错误: ✕ CloseCircleFilled
- 信息: ℹ️ InfoCircleFilled

## 7. 字体规范

### 字体家族
```css
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
             'Helvetica Neue', Arial, 'Noto Sans', sans-serif,
             'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
             'Noto Color Emoji';
```

### 字体大小
```css
--font-size-base: 14px;          /* 基础 */
--font-size-lg: 16px;            /* 大 */
--font-size-sm: 12px;            /* 小 */
--h1: 38px;                      /* 一级标题 */
--h2: 30px;                      /* 二级标题 */
--h3: 24px;                      /* 三级标题 */
--h4: 20px;                      /* 四级标题 */
--h5: 16px;                      /* 五级标题 */
```

## 8. 间距规范

```css
--spacing-xs: 4px;
--spacing-sm: 8px;
--spacing-md: 16px;
--spacing-lg: 24px;
--spacing-xl: 32px;
--spacing-xxl: 48px;
```

## 9. 圆角规范

```css
--border-radius-sm: 2px;         /* 小圆角 */
--border-radius-base: 4px;       /* 基础圆角 */
--border-radius-lg: 8px;         /* 大圆角 */
```

## 10. 阴影规范

```css
--shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
--shadow-base: 0 4px 12px rgba(0, 0, 0, 0.12);
--shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.16);
```
